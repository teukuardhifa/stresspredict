{% extends 'base.html' %} {% block title %}Prediksi Risiko Depresi -
StressSense{% endblock %} {% block content %}
<div class="max-w-4xl mx-auto">
  <!-- Hero Section -->
  <div class="text-center mb-12">
    <h1 class="text-4xl font-bold text-blue-800 mb-4">
      Prediksi Risiko Depresi Mahasiswa
    </h1>
    <p class="text-gray-600 text-lg max-w-2xl mx-auto">
      Masukkan data pribadi Anda dengan lengkap dan jujur. Hasil prediksi ini
      bersifat indikasi awal, bukan diagnosis medis resmi.
    </p>
    <div
      class="mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg inline-block"
    >
      <p class="text-yellow-800 flex items-center">
        <i data-feather="alert-triangle" class="w-5 h-5 mr-2"></i>
        Jika Anda merasa membutuhkan bantuan, segera konsultasikan dengan tenaga
        kesehatan profesional.
      </p>
    </div>
  </div>

  <!-- Tentang StressSense -->
  <div class="bg-blue-100 rounded-xl shadow mb-10 p-8 flex flex-col md:flex-row items-center gap-8">
    <img src="{{ url_for('static', filename='pictures/mental.png') }}" alt="StressSense" class="w-32 h-32 object-cover rounded-full border-4 border-blue-300 shadow-md mb-4 md:mb-0" />
    <div>
      <h2 class="text-2xl font-bold text-blue-800 mb-2">Tentang StressSense</h2>
      <p class="text-gray-700 text-base">
        <b>StressSense</b> adalah aplikasi berbasis AI yang membantu mahasiswa mengenali risiko depresi secara dini. Dengan mengisi data sederhana, Anda dapat memperoleh estimasi risiko dan tips menjaga kesehatan mental. Kami berkomitmen mendukung kesejahteraan mental generasi muda Indonesia.
      </p>
    </div>
  </div>

  <!-- Fitur Utama -->
  <div class="mb-12">
    <h2 class="text-xl font-bold text-center text-blue-700 mb-6">Fitur Utama StressSense</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="bg-white rounded-lg shadow p-6 flex flex-col items-center">
        <i data-feather="activity" class="w-10 h-10 text-blue-500 mb-3"></i>
        <h3 class="font-semibold text-blue-700 mb-2">Prediksi Risiko Depresi</h3>
        <p class="text-gray-600 text-center text-sm">Dapatkan estimasi risiko depresi berdasarkan data pribadi dan gaya hidup Anda.</p>
      </div>
      <div class="bg-white rounded-lg shadow p-6 flex flex-col items-center">
        <i data-feather="book-open" class="w-10 h-10 text-purple-500 mb-3"></i>
        <h3 class="font-semibold text-purple-700 mb-2">Edukasi Kesehatan Mental</h3>
        <p class="text-gray-600 text-center text-sm">Akses artikel dan tips seputar kesehatan mental untuk meningkatkan pemahaman Anda.</p>
      </div>
      <div class="bg-white rounded-lg shadow p-6 flex flex-col items-center">
        <i data-feather="users" class="w-10 h-10 text-green-500 mb-3"></i>
        <h3 class="font-semibold text-green-700 mb-2">Direktori Bantuan</h3>
        <p class="text-gray-600 text-center text-sm">Temukan kontak dan layanan profesional jika Anda membutuhkan bantuan lebih lanjut.</p>
      </div>
    </div>
  </div>

  <!-- Kutipan Inspiratif -->
  <div class="bg-gradient-to-r from-blue-100 to-green-100 rounded-xl shadow p-8 mb-12 text-center">
    <blockquote class="text-xl italic text-gray-700 mb-2">“Kesehatan mental sama pentingnya dengan kesehatan fisik. Jangan ragu untuk mencari bantuan.”</blockquote>
    <span class="text-blue-700 font-semibold">- StressSense</span>
  </div>

  <!-- Main Form Card -->
  <div class="bg-white rounded-xl shadow-lg overflow-hidden">
    <div class="p-8">
      <form method="POST" class="space-y-6" id="stresssense-form">
        <!-- Personal Information Section -->
        <div class="bg-blue-50 p-4 rounded-lg mb-6">
          <h2
            class="text-xl font-semibold text-blue-800 mb-4 flex items-center"
          >
            <i data-feather="user" class="w-5 h-5 mr-2"></i>
            Informasi Pribadi
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Jenis Kelamin</label
              >
              <select
                name="gender"
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                required
              >
                <option value="" disabled {% if not form_data.get('gender') %}selected{% endif %}>
                  Pilih jenis kelamin...
                </option>
                <option value="Male" {% if form_data.get('gender') == 'Male' %}selected{% endif %}>Laki-laki</option>
                <option value="Female" {% if form_data.get('gender') == 'Female' %}selected{% endif %}>Perempuan</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Usia (17-25 tahun)</label
              >
              <input
                type="number"
                name="age"
                min="17"
                max="25"
                required
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                placeholder="Contoh: 20"
                value="{{ form_data.get('age', '') }}"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >IPK (0-4)</label
              >
              <input
                type="number"
                name="cgpa"
                step="0.01"
                min="0"
                max="4"
                required
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                placeholder="Contoh: 3.5"
                value="{{ form_data.get('cgpa', '') }}"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Durasi Tidur (jam/hari)</label
              >
              <input
                type="number"
                name="sleep_duration"
                step="0.1"
                required
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                placeholder="Contoh: 7.5"
                value="{{ form_data.get('sleep_duration', '') }}"
              />
            </div>
          </div>
        </div>

        <!-- Health & Lifestyle Section -->
        <div class="bg-purple-50 p-4 rounded-lg mb-6">
          <h2
            class="text-xl font-semibold text-purple-800 mb-4 flex items-center"
          >
            <i data-feather="heart" class="w-5 h-5 mr-2"></i>
            Kesehatan & Gaya Hidup
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Riwayat Keluarga dengan Gangguan Mental</label
              >
              <select
                name="family_history"
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                required
              >
                <option value="" disabled {% if not form_data.get('family_history') %}selected{% endif %}>Pilih...</option>
                <option value="Yes" {% if form_data.get('family_history') == 'Yes' %}selected{% endif %}>Ya</option>
                <option value="No" {% if form_data.get('family_history') == 'No' %}selected{% endif %}>Tidak</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Masalah Keuangan</label
              >
              <select
                name="financial_problem"
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                required
              >
                <option value="" disabled {% if not form_data.get('financial_problem') %}selected{% endif %}>Pilih...</option>
                <option value="Yes" {% if form_data.get('financial_problem') == 'Yes' %}selected{% endif %}>Ya</option>
                <option value="No" {% if form_data.get('financial_problem') == 'No' %}selected{% endif %}>Tidak</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Masalah Kesehatan</label
              >
              <select
                name="health_issue"
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                required
              >
                <option value="" disabled {% if not form_data.get('health_issue') %}selected{% endif %}>Pilih...</option>
                <option value="Yes" {% if form_data.get('health_issue') == 'Yes' %}selected{% endif %}>Ya</option>
                <option value="No" {% if form_data.get('health_issue') == 'No' %}selected{% endif %}>Tidak</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Pola Makan</label
              >
              <select
                name="diet"
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                required
              >
                <option value="" disabled {% if not form_data.get('diet') %}selected{% endif %}>Pilih...</option>
                <option value="Good" {% if form_data.get('diet') == 'Good' %}selected{% endif %}>Baik</option>
                <option value="Average" {% if form_data.get('diet') == 'Average' %}selected{% endif %}>Cukup</option>
                <option value="Poor" {% if form_data.get('diet') == 'Poor' %}selected{% endif %}>Buruk</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Pressure Assessment Section -->
        <div class="bg-green-50 p-4 rounded-lg mb-6">
          <h2
            class="text-xl font-semibold text-green-800 mb-4 flex items-center"
          >
            <i data-feather="activity" class="w-5 h-5 mr-2"></i>
            Penilaian Tekanan
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Tekanan Akademik (1-10)</label
              >
              <input
                type="number"
                name="academic_pressure"
                min="1"
                max="10"
                required
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                placeholder="Contoh: 7"
                value="{{ form_data.get('academic_pressure', '') }}"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Tekanan Pekerjaan (1-10)</label
              >
              <input
                type="number"
                name="work_pressure"
                min="1"
                max="10"
                required
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                placeholder="Contoh: 5"
                value="{{ form_data.get('work_pressure', '') }}"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Stres Finansial (1-10)</label
              >
              <input
                type="number"
                name="financial_stress"
                min="1"
                max="10"
                required
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                placeholder="Contoh: 6"
                value="{{ form_data.get('financial_stress', '') }}"
              />
            </div>
          </div>
        </div>

        <!-- Mental Health Assessment Section -->
        <div class="bg-red-50 p-4 rounded-lg mb-6">
          <h2 class="text-xl font-semibold text-red-800 mb-4 flex items-center">
            <i data-feather="brain" class="w-5 h-5 mr-2"></i>
            Penilaian Kesehatan Mental
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Pernah Memiliki Pemikiran Bunuh Diri?</label
              >
              <select
                name="suicidal_thoughts"
                class="w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50 transition-colors"
                required
              >
                <option value="" disabled {% if not form_data.get('suicidal_thoughts') %}selected{% endif %}>Pilih...</option>
                <option value="Yes" {% if form_data.get('suicidal_thoughts') == 'Yes' %}selected{% endif %}>Ya</option>
                <option value="No" {% if form_data.get('suicidal_thoughts') == 'No' %}selected{% endif %}>Tidak</option>
              </select>
            </div>
          </div>
        </div>

        <div class="flex flex-col md:flex-row gap-4">
          <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transform transition-all duration-200 hover:scale-[1.02] flex items-center justify-center">
            <i data-feather="activity" class="w-5 h-5 mr-2"></i>
            Prediksi Sekarang
          </button>
          <button type="button" class="w-full bg-gray-200 text-gray-700 font-semibold py-3 px-6 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 transition-all duration-200" onclick="document.getElementById('stresssense-form').reset();">Reset</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Prediction Result -->
  {% if prediction is not none %}
  <div class="mt-8 bg-white rounded-xl shadow-lg overflow-hidden">
    <div class="p-6">
      <h2 class="text-2xl font-bold text-center mb-4">Hasil Prediksi</h2>
      <div class="text-center">
        <div
          class="inline-block p-4 rounded-full {% if prediction >= 70 %}bg-red-100 text-red-700{% elif prediction >= 40 %}bg-yellow-100 text-yellow-700{% else %}bg-green-100 text-green-700{% endif %}"
        >
          <span class="text-4xl font-bold">{{ prediction }}%</span>
          <p class="text-sm mt-2">Estimasi Risiko Depresi</p>
        </div>
      </div>

      <!-- Risk Level Description -->
      <div
        class="mt-6 p-4 rounded-lg {% if prediction >= 70 %}bg-red-50 border border-red-200{% elif prediction >= 40 %}bg-yellow-50 border border-yellow-200{% else %}bg-green-50 border border-green-200{% endif %}"
      >
        <h3
          class="font-semibold mb-2 {% if prediction >= 70 %}text-red-700{% elif prediction >= 40 %}text-yellow-700{% else %}text-green-700{% endif %}"
        >
          {% if prediction >= 70 %} Risiko Tinggi {% elif prediction >= 40 %}
          Risiko Sedang {% else %} Risiko Rendah {% endif %}
        </h3>
        <p class="text-gray-600">
          {% if prediction >= 70 %} Kami menyarankan Anda untuk segera
          berkonsultasi dengan tenaga kesehatan profesional. Jangan ragu untuk
          mencari bantuan. {% elif prediction >= 40 %} Perhatikan kesehatan
          mental Anda dan pertimbangkan untuk berkonsultasi dengan tenaga
          kesehatan profesional. {% else %} Tetap jaga kesehatan mental Anda
          dengan menerapkan pola hidup sehat dan seimbang. {% endif %}
        </p>
      </div>
    </div>
  </div>
  {% endif %}

  <!-- Tips & Resources -->
  <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Self-care Tips -->
    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
      <div class="p-6">
        <h3 class="text-xl font-bold mb-4 text-green-700 flex items-center">
          <i data-feather="heart" class="w-5 h-5 mr-2"></i>
          Tips Self-care
        </h3>
        <ul class="space-y-3">
          <li class="flex items-start">
            <i
              data-feather="check-circle"
              class="w-5 h-5 text-green-500 mr-2 mt-1"
            ></i>
            <span
              >Luangkan waktu 5 menit untuk meditasi pernapasan setiap
              hari</span
            >
          </li>
          <li class="flex items-start">
            <i
              data-feather="check-circle"
              class="w-5 h-5 text-green-500 mr-2 mt-1"
            ></i>
            <span
              >Jalan kaki ringan selama 10 menit untuk meningkatkan mood</span
            >
          </li>
          <li class="flex items-start">
            <i
              data-feather="check-circle"
              class="w-5 h-5 text-green-500 mr-2 mt-1"
            ></i>
            <span
              >Tulis jurnal syukur sebelum tidur untuk meningkatkan kualitas
              tidur</span
            >
          </li>
          <li class="flex items-start">
            <i
              data-feather="check-circle"
              class="w-5 h-5 text-green-500 mr-2 mt-1"
            ></i>
            <span>Jaga pola makan teratur dan konsumsi makanan bergizi</span>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="mt-12 py-6 border-t border-gray-200 text-center text-gray-500 text-sm">
    <div class="mb-2">
      &copy; {{ year|default(2024) }} StressSense. All rights reserved.
    </div>
    <div>
      <a href="/tentang" class="text-blue-600 hover:underline">Tentang</a> |
      <a href="/edukasi" class="text-blue-600 hover:underline">Edukasi</a> |
      <a href="/direktori" class="text-blue-600 hover:underline">Direktori Bantuan</a>
    </div>
    <div class="mt-2 text-xs text-gray-400">Disclaimer: StressSense bukan alat diagnosis medis.</div>
  </footer>
</div>
{% endblock %}
